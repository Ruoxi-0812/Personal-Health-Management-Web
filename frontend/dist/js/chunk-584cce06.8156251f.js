(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-584cce06"],{"050c":function(t,e,a){"use strict";a("466d")},"25a9":function(t,e,a){"use strict";function i(t){const e=new Date,a=new Date(t),i=(e.getTime()-a.getTime())/1e3;if(i<60)return Math.floor(i)+" seconds ago";if(i<3600)return Math.floor(i/60)+" minutes ago";if(i<=86400)return Math.floor(i/3600)+" hours ago";{const t=Math.floor(i/86400);return 1===t?"1 day ago":t+" days ago"}}a.d(e,"a",(function(){return i}))},"466d":function(t,e,a){},"50af":function(t,e,a){},"69dc":function(t,e,a){},"76ca":function(t,e,a){"use strict";a("50af")},"99de":function(t,e,a){"use strict";a("69dc")},ba5b:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[e("el-row",[e("el-col",{attrs:{span:6}},[e("Banner",{attrs:{data:t.newsTopList},on:{"on-click":t.onBannerClick}})],1),e("el-col",{attrs:{span:18}},t._l(t.newsTopList,(function(a,i){return e("el-col",{key:i,attrs:{span:6},nativeOn:{click:function(e){return t.newsItemClick(a)}}},[e("div",{staticStyle:{padding:"0 15px"}},[e("img",{staticStyle:{width:"100%","min-height":"128px","max-height":"158px","border-radius":"10px"},attrs:{src:a.cover,alt:a.name}}),e("h2",{staticClass:"news-title"},[t._v(t._s(a.name))]),e("div",{staticStyle:{"font-size":"12px"}},[e("span",{staticClass:"news-tags"},[t._v("Category: "+t._s(a.tagName))]),e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.parseTime(a.createTime)))])])])])})),1)],1),e("el-row",[e("TagLine",{attrs:{dataList:t.tagsList},on:{"on-click":t.tagOnClick}})],1),e("el-row",[0===t.newsList.length?e("el-row",[e("el-empty",{attrs:{description:"No news available"}})],1):t._e(),e("el-row",t._l(t.newsList,(function(a,i){return e("el-col",{key:i,staticClass:"new-item",attrs:{span:4},nativeOn:{click:function(e){return t.newsItemClick(a)}}},[e("img",{staticStyle:{width:"100%","min-height":"108px","max-height":"188px","border-radius":"10px"},attrs:{src:a.cover,alt:a.name}}),e("h3",{staticClass:"news-title"},[t._v(t._s(a.name))]),e("div",{staticStyle:{"font-size":"12px"}},[e("span",{staticClass:"news-tags"},[t._v(t._s(a.tagName))]),e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.parseTime(a.createTime)))])])])})),1)],1)],1)},s=[],n=function(){var t=this,e=t._self._c;return e("div",t._l(t.dataList,(function(a,i){return e("span",{key:i},[e("span",{staticClass:"tag-item",style:{backgroundColor:t.tagSelected.name===a.name?"rgb(56, 183, 129)":"rgb(252, 252, 252)",color:t.tagSelected.name===a.name?"#FFFFFF":"#1c1c1c"},on:{click:function(e){return t.onClick(a)}}},[t._v(" "+t._s(a.name)+" ")])])})),0)},o=[],r={name:"TagLine",data(){return{tagSelected:{}}},props:{dataList:{type:Array,required:!0}},mounted(){this.onClick({name:"全部",id:null})},methods:{onClick(t){this.tagSelected=t,this.$emit("on-click",t)},all(){this.$emit("on-click",{id:null,name:"全部"})}}},l=r,c=(a("76ca"),a("2877")),d=Object(c["a"])(l,n,o,!1,null,"62e68412",null),u=d.exports,h=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{position:"relative"}},[e("img",{staticStyle:{"min-height":"218px","max-height":"308px"},style:{width:t.width,borderRadius:t.borderRadius},attrs:{src:t.activeData.cover}}),e("h3",{staticClass:"tip-name",staticStyle:{position:"absolute",bottom:"0"}},[e("div",{staticStyle:{"font-size":"12px"},on:{click:t.onClick}},[t._v(t._s(t.activeData.name))]),e("div",{staticClass:"point-container"},t._l(t.data,(function(a,i){return e("span",{key:t.index,style:{backgroundColor:t.index===i?"rgb(254, 244, 203)":"",height:t.index===i?"15px":"10px",width:t.index===i?"30px":"20px"}})})),0)])])},p=[],g={name:"Banner",props:{data:{type:Array,required:!0},width:{type:String,default:"100%"},borderRadius:{type:String,default:"10px"},time:{type:Number,default:3e3}},watch:{data:{handler(t,e){this.activeData={...this.data[0]},this.config()},deep:!0,immediate:!0}},data(){return{activeData:{},index:0}},methods:{onClick(t){this.$emit("on-click",this.activeData)},config(){setInterval(()=>{this.index=this.index>=this.data.length?0:this.index,this.activeData=this.data[this.index++]},this.time)}}},m=g,w=(a("99de"),Object(c["a"])(m,h,p,!1,null,"519a0b5f",null)),f=w.exports,x=a("25a9"),y={components:{TagLine:u,Banner:f},data(){return{tagsList:[],newsList:[],newsTopList:[],newQueryDto:{tagId:null}}},created(){this.loadAllTags(),this.loadAllNews(),this.loadAllTopNews()},methods:{onBannerClick(t){sessionStorage.setItem("newsInfo",JSON.stringify(t)),this.$router.push("/news-detail")},newsItemClick(t){sessionStorage.setItem("newsInfo",JSON.stringify(t)),this.$router.push("/news-detail")},parseTime(t){return Object(x["a"])(t)},tagOnClick(t){this.newQueryDto.tagId=t.id,this.loadAllNews()},loadAllTags(){this.$axios.post("/tags/query",{}).then(t=>{const{data:e}=t;200===e.code&&(this.tagsList=e.data,this.tagsList.unshift({name:"All",id:null}))})},loadAllTopNews(){const t={isTop:!0};this.$axios.post("/news/query",t).then(t=>{const{data:e}=t;200===e.code&&(this.newsTopList=e.data)})},loadAllNews(){this.$axios.post("/news/query",this.newQueryDto).then(t=>{const{data:e}=t;200===e.code&&(this.newsList=e.data)})}}},v=y,k=(a("050c"),Object(c["a"])(v,i,s,!1,null,"174cf480",null));e["default"]=k.exports}}]);
//# sourceMappingURL=chunk-584cce06.8156251f.js.map