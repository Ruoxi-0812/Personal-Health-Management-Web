(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bd60132"],{"25a9":function(t,e,a){"use strict";function s(t){const e=new Date,a=new Date(t),s=(e.getTime()-a.getTime())/1e3;if(s<60)return Math.floor(s)+" seconds ago";if(s<3600)return Math.floor(s/60)+" minutes ago";if(s<=86400)return Math.floor(s/3600)+" hours ago";{const t=Math.floor(s/86400);return 1===t?"1 day ago":t+" days ago"}}a.d(e,"a",(function(){return s}))},"3bef":function(t,e,a){},"4bd8":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"line-main"},[e("div",[e("span",{staticClass:"tag"},[t._v(t._s(t.tag))]),e("span",{staticClass:"time-show"},[e("span",{staticClass:"top-bar",staticStyle:{"font-size":"12px"}},[t._v("Timing")]),e("el-select",{staticStyle:{width:"90px"},attrs:{size:"mini",placeholder:"deadlines"},model:{value:t.selectedValue,callback:function(e){t.selectedValue=e},expression:"selectedValue"}},t._l(t.options,(function(t){return e("el-option",{key:t.num,attrs:{label:t.name,value:t.num}})})),1)],1)]),e("div",{ref:"chart",style:{width:"100%",height:t.height}})])},i=[],o=a("313e"),r={name:"DialogLine",props:{tag:{type:String,default:"LineChart"},values:{type:Array,required:!0},date:{type:Array,required:!0},height:{type:String,default:"220px"}},watch:{selectedValue:{handler(t,e){this.$emit("on-selected",t)},deep:!0,immediate:!1},values:{handler(t,e){this.initChart()},deep:!0,immediate:!1}},data(){return{chart:null,options:[{num:7,name:"Within 7 days"},{num:30,name:"Within 30 days"},{num:60,name:"Within 60 days"}],selectedValue:""}},methods:{initChart(){this.chart=o["init"](this.$refs.chart);let t={grid:{left:30,right:10,top:50,borderWidth:0},title:{text:"",color:"#ffffff"},tooltip:{trigger:"axis",formatter:"{b}->{c}"},legend:{data:[""]},xAxis:{data:this.date,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"rgb(51，51，51)",fontSize:"14"}},yAxis:{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"rgb(51，51，51)",fontSize:"14"}},series:[{name:"",type:"line",smooth:!0,data:this.values,areaStyle:{color:"rgba(144, 191, 237, 0.3)"},lineStyle:{color:"#5B8FF9"},itemStyle:{color:"#5B8FF9",borderColor:"#5B8FF9",borderWidth:2},label:{show:!0,position:"top",color:"rgb(102, 102, 102)"}}]};this.chart.setOption(t)}},beforeDestroy(){this.chart&&this.chart.dispose()}},n=r,l=(a("fe1f"),a("2877")),d=Object(l["a"])(n,s,i,!1,null,"d615d816",null);e["a"]=d.exports},5913:function(t,e,a){"use strict";a("d200")},"6ec5":function(t,e,a){"use strict";a("c41f")},"748a":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"line-main",style:{backgroundColor:t.bag}},[e("div",{ref:"chart",style:{width:t.width,height:t.height}})])},i=[],o=a("313e"),r={name:"PieChart",props:{types:{type:Array,default:[]},values:{type:Array,default:[]},width:{type:String,default:"100%"},height:{type:String,default:"243px"},bag:{type:String,default:"#fff"},fontColor:{type:String,default:"#333"}},data(){return{chart:null}},watch:{types(t,e){this.initChart()}},mounted(){this.initChart()},methods:{initChart(){this.chart=o["init"](this.$refs.chart);let t={title:{text:"",subtext:"",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left",show:!1},series:[{name:"",type:"pie",radius:"70%",avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!1,fontSize:"24",fontWeight:"600"}},labelLine:{show:!0},label:{show:!0,position:"outer",formatter:"{d}%"},data:this.values.map((t,e)=>({name:this.types[e],value:t})),itemStyle:{color:function(t){const e=["#FF6347","#FFD700","#0885f9","#FF69B4","#9370DB","#00FFFF","#b84031"];return e[t.dataIndex%e.length]}}}]};this.chart.setOption(t)}},beforeDestroy(){this.chart&&this.chart.dispose()}},n=r,l=(a("5913"),a("2877")),d=Object(l["a"])(n,s,i,!1,null,"1cc5f778",null);e["a"]=d.exports},"8f88":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"box-sizing":"border-box","overflow-y":"hidden","overflow-x":"hidden",padding:"10px"}},[e("el-row",[e("el-col",{attrs:{span:8}},[e("div",{staticStyle:{padding:"15px 5px","box-sizing":"border-box"}},[e("PieChart",{attrs:{fontColor:"rgb(51,51,51)",bag:"rgb(248,248,248)",values:t.pieValues,types:t.pieTypes}})],1),e("div",{staticStyle:{padding:"10px 5px","box-sizing":"border-box"}},t._l(t.messageList,(function(a,s){return e("div",{key:a},[e("div",{staticStyle:{"font-size":"16px","font-weight":"800"}},[t._v(t._s(a.receiverName))]),e("div",{staticStyle:{padding:"8px 0","font-size":"14px",color:"#6f6d6d"}},[t._v(t._s(a.content))]),e("div",{staticStyle:{padding:"5px 0","font-size":"14px",color:"#6f6d6d"}},[t._v(t._s(a.createTime))])])})),0)]),e("el-col",{attrs:{span:16}},[e("div",{staticStyle:{padding:"15px","box-sizing":"border-box"}},[e("LineChart",{attrs:{height:"290px",tag:"Total Users",values:t.userValues,date:t.userDates},on:{"on-selected":t.userDatesSelected}})],1),e("div",{staticStyle:{padding:"15px","box-sizing":"border-box"}},[e("LineChart",{attrs:{height:"290px",tag:"Health Metrics",values:t.modelValues,date:t.modelDates},on:{"on-selected":t.modelDatesSelected}})],1)])],1)],1)},i=[],o=a("4bd8"),r=a("748a"),n=a("25a9"),l={components:{LineChart:o["a"],PieChart:r["a"]},data(){return{userValues:[],userDates:[],modelDates:[],modelValues:[],pieValues:[],pieTypes:[],messageList:[]}},created(){this.userDatesSelected(365),this.modelDatesSelected(365),this.loadPieCharts(),this.loadMessages()},methods:{time(t){return Object(n["a"])(t)},loadMessages(){const t={current:1,size:4};this.$axios.post("/message/query",t).then(t=>{const{data:e}=t;200===e.code&&(this.messageList=e.data)})},loadPieCharts(){this.$axios.get("/views/staticControls").then(t=>{const{data:e}=t;200===e.code&&(this.pieValues=e.data.map(t=>t.count),this.pieTypes=e.data.map(t=>t.name))})},modelDatesSelected(t){this.$axios.get("/user-health/daysQuery/"+t).then(t=>{const{data:e}=t;200===e.code&&(this.modelValues=e.data.map(t=>t.count),this.modelDates=e.data.map(t=>t.name))})},userDatesSelected(t){this.$axios.get("/user/daysQuery/"+t).then(t=>{const{data:e}=t;200===e.code&&(this.userValues=e.data.map(t=>t.count),this.userDates=e.data.map(t=>t.name))})}}},d=l,c=(a("6ec5"),a("2877")),h=Object(c["a"])(d,s,i,!1,null,"79da4167",null);e["default"]=h.exports},c41f:function(t,e,a){},d200:function(t,e,a){},fe1f:function(t,e,a){"use strict";a("3bef")}}]);
//# sourceMappingURL=chunk-2bd60132.a3911cf1.js.map