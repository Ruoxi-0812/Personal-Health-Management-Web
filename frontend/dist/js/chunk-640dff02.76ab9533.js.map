{"version":3,"sources":["webpack:///./src/components/Logo.vue?bcca","webpack:///./src/components/Logo.vue","webpack:///src/components/Logo.vue","webpack:///./src/components/Logo.vue?c721","webpack:///./src/components/Logo.vue?4570","webpack:///./src/views/user/Message.vue?07ae","webpack:///./src/views/user/Message.vue","webpack:///src/views/user/Message.vue","webpack:///./src/views/user/Message.vue?1106","webpack:///./src/views/user/Message.vue?544f"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","attrs","flag","_e","style","color","bag","display","_v","_s","sysName","staticRenderFns","name","data","props","type","Boolean","required","String","default","created","methods","component","userInfo","userAvatar","userName","on","clearMessage","_l","messageTypes","messageType","index","key","$event","messageTypeSelected","detail","messageList","length","message","backgroundColor","isRead","senderAvatar","senderName","commentDeal","content","createTime","replyUser","components","Logo","messageQueryDto","dialogEvaluationsOperation","getUserInfo","loadAllUsersMessage","loadAllMessageType","split","Swal","fire","title","input","inputPlaceholder","showCancelButton","confirmButtonText","cancelButtonText","inputValidator","value","saveCommentData","senderId","then","result","console","log","ary","comment","parentId","contentType","contentId","replierId","$axios","post","response","code","$notify","catch","error","confirmed","$swalConfirm","text","icon","put","evaluationsPut","replyEvalustions","sessionStorage","getItem","JSON","parse","get","unshift","map","entity","isCheck","userId","id"],"mappings":"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","file":"js/chunk-640dff02.76ab9533.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logo.vue?vue&type=style&index=0&id=1dc3616d&prod&scoped=true&lang=scss\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"logo\"},[_c('el-image',{staticStyle:{\"width\":\"25px\",\"height\":\"25px\"},attrs:{\"src\":\"/logo.png\",\"fit\":\"fill\"}}),(!_vm.flag)?_c('div',[_c('span',{style:({ color: _vm.bag, display: 'block' })},[_vm._v(_vm._s(_vm.sysName))])]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <span class=\"logo\">\r\n        <el-image style=\"width:25px; height: 25px\" src=\"/logo.png\" fit=\"fill\"></el-image>\r\n        <div v-if=\"!flag\">\r\n            <span :style=\"{ color: bag, display: 'block' }\">{{ sysName }}</span>\r\n        </div>\r\n    </span>\r\n</template>\r\n<script>\r\nexport default {\r\n    name: \"Logo\",\r\n    data() {\r\n        return {\r\n            \r\n        }\r\n    },\r\n    props: {\r\n        flag: {\r\n            type: Boolean,\r\n            required: false\r\n        },\r\n        sysName: {\r\n            type: String,\r\n            required: false\r\n        },\r\n        bag: {\r\n            type: String,\r\n            default: '#1c1c1c'\r\n        },\r\n    },\r\n    created() {\r\n\r\n    },\r\n    methods: {\r\n\r\n    }\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.logo {\r\n    color: rgb(8, 24, 16) !important;\r\n    font-weight: bold;\r\n    font-size: 20px;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n    user-select: none;\r\n\r\n    span {\r\n        margin-left: 8px;\r\n        color: #666;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logo.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logo.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Logo.vue?vue&type=template&id=1dc3616d&scoped=true\"\nimport script from \"./Logo.vue?vue&type=script&lang=js\"\nexport * from \"./Logo.vue?vue&type=script&lang=js\"\nimport style0 from \"./Logo.vue?vue&type=style&index=0&id=1dc3616d&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1dc3616d\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=style&index=0&id=cb3631fe&prod&scoped=true&lang=scss\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticStyle:{\"line-height\":\"70px\",\"padding\":\"0 50px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('Logo',{attrs:{\"sysName\":\"Healthy Living\"}})],1),_c('el-col',{attrs:{\"span\":18}},[_c('span',{staticStyle:{\"float\":\"right\",\"display\":\"flex\",\"align-items\":\"center\",\"flex-wrap\":\"wrap\"}},[_c('img',{staticStyle:{\"width\":\"30px\",\"height\":\"30px\",\"border-radius\":\"15px\"},attrs:{\"src\":_vm.userInfo.userAvatar}}),_c('span',{staticStyle:{\"margin-left\":\"8px\"}},[_vm._v(_vm._s(_vm.userInfo.userName))])])])],1)],1),_c('div',{staticStyle:{\"height\":\"20px\",\"background-color\":\"rgb(248, 248, 248)\"}}),_c('div',{staticStyle:{\"padding\":\"10px 50px\"}},[_c('div',[_c('p',{staticStyle:{\"font-size\":\"16px\",\"padding\":\"10px 0\"}},[_vm._v(\" Message Center \"),_c('span',{staticClass:\"clear-message\",on:{\"click\":_vm.clearMessage}},[_c('i',{staticClass:\"el-icon-s-open\"})])])]),_c('div',_vm._l((_vm.messageTypes),function(messageType,index){return _c('span',{key:index,staticClass:\"message-type\",on:{\"click\":function($event){return _vm.messageTypeSelected(messageType.type)}}},[_vm._v(\" \"+_vm._s(messageType.detail)+\" \")])}),0),_c('div',{staticStyle:{\"padding\":\"30px 0\"}},[(_vm.messageList.length === 0)?_c('div',[_c('el-empty',{attrs:{\"description\":\"No messages available\"}})],1):_vm._e(),_c('div',_vm._l((_vm.messageList),function(message,index){return _c('div',{key:index,staticStyle:{\"margin-bottom\":\"5px\",\"padding\":\"5px\",\"border-radius\":\"5px\"},style:({ backgroundColor: !message.isRead ? 'rgb(248,248,248)' : '' })},[_c('el-row',{staticStyle:{\"padding\":\"15px 0\"}},[_c('el-col',{attrs:{\"span\":1}},[_c('span',{staticClass:\"bell-icon\"},[(message.messageType === 1 || message.messageType === 2)?_c('span',[_c('img',{staticStyle:{\"width\":\"30px\",\"height\":\"30px\",\"border-radius\":\"20px\"},attrs:{\"src\":message.senderAvatar,\"alt\":\"\",\"srcset\":\"\"}})]):_vm._e(),(message.messageType === 3)?_c('i',{staticClass:\"el-icon-data-analysis\"}):_vm._e()])]),_c('el-col',{attrs:{\"span\":23}},[_c('div',[(message.messageType === 1 || message.messageType === 2)?_c('div',[_c('div',[_vm._v(\" \"+_vm._s(message.senderName)+\" \")])]):_vm._e(),_c('div',[(message.messageType === 1)?_c('span',{staticClass:\"message-content\",staticStyle:{\"font-size\":\"14px\"}},[_vm._v(_vm._s(_vm.commentDeal(message.content)[2]))]):_c('span',{staticClass:\"message-content\",staticStyle:{\"font-size\":\"14px\"}},[_vm._v(_vm._s(message.content))])])]),_c('div',[_c('span',{staticClass:\"message-time\"},[_vm._v(_vm._s(message.createTime))]),(message.messageType === 1)?_c('span',{staticStyle:{\"font-size\":\"10px\",\"margin-left\":\"10px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.replyUser(message)}}},[_vm._v(\"Reply\")]):_vm._e()])])],1)],1)}),0)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div style=\"line-height: 70px;padding: 0 50px;\">\r\n            <el-row>\r\n                <el-col :span=\"6\">\r\n                    <Logo sysName=\"Healthy Living\" />\r\n                </el-col>\r\n                <el-col :span=\"18\">\r\n                    <span style=\"float: right;display: flex; align-items: center; flex-wrap: wrap;\">\r\n                        <img style=\"width: 30px;height: 30px;border-radius: 15px;\" :src=\"userInfo.userAvatar\" />\r\n                        <span style=\"margin-left: 8px;\">{{ userInfo.userName }}</span>\r\n                    </span>\r\n                </el-col>\r\n            </el-row>\r\n        </div>\r\n        <div style=\"height: 20px;background-color: rgb(248, 248, 248);\"></div>\r\n        <div style=\"padding: 10px 50px;\">\r\n            <div>\r\n                <p style=\"font-size: 16px;padding: 10px 0;\">\r\n                    Message Center\r\n                    <span @click=\"clearMessage\" class=\"clear-message\">\r\n                        <i class=\"el-icon-s-open\"></i>\r\n                    </span>\r\n                </p>\r\n            </div>\r\n            <div>\r\n                <span @click=\"messageTypeSelected(messageType.type)\" class=\"message-type\"\r\n                    v-for=\"(messageType, index) in messageTypes\" :key=\"index\">\r\n                    {{ messageType.detail }}\r\n                </span>\r\n            </div>\r\n            <div style=\"padding: 30px 0;\">\r\n                <div v-if=\"messageList.length === 0\">\r\n                    <el-empty description=\"No messages available\"></el-empty>\r\n                </div>\r\n                <div>\r\n                    <div style=\"margin-bottom: 5px;padding: 5px;border-radius: 5px;\"\r\n                        :style=\"{ backgroundColor: !message.isRead ? 'rgb(248,248,248)' : '' }\"\r\n                        v-for=\"(message, index) in messageList\" :key=\"index\">\r\n                        <el-row style=\"padding: 15px 0\">\r\n                            <el-col :span=\"1\">\r\n                                <span class=\"bell-icon\">\r\n                                    <span v-if=\"message.messageType === 1 || message.messageType === 2\">\r\n                                        <img style=\"width: 30px;height: 30px;border-radius: 20px;\"\r\n                                            :src=\"message.senderAvatar\" alt=\"\" srcset=\"\">\r\n                                    </span>\r\n                                    <i v-if=\"message.messageType === 3\" class=\"el-icon-data-analysis\"></i>\r\n                                </span>\r\n                            </el-col>\r\n                            <el-col :span=\"23\">\r\n                                <div>\r\n                                    <div v-if=\"message.messageType === 1 || message.messageType === 2\">\r\n                                        <div>\r\n                                            {{ message.senderName }}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div>\r\n                                        <span class=\"message-content\" v-if=\"message.messageType === 1\"\r\n                                            style=\"font-size: 14px;\">{{ commentDeal(message.content)[2] }}</span>\r\n                                        <span class=\"message-content\" v-else style=\"font-size: 14px;\">{{ message.content\r\n                                            }}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div>\r\n                                    <span class=\"message-time\">{{ message.createTime }}</span>\r\n                                    <span @click=\"replyUser(message)\"  v-if=\"message.messageType === 1\"\r\n                                        style=\"font-size: 10px;margin-left: 10px;cursor: pointer;\">Reply</span>\r\n                                </div>\r\n                            </el-col>\r\n                        </el-row>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Logo from '@/components/Logo';\r\nimport Swal from 'sweetalert2';\r\nexport default {\r\n    components: { Logo },\r\n    data() {\r\n        return {\r\n            userInfo: {},\r\n            messageQueryDto: {},\r\n            messageList: [],\r\n            messageTypes: [],\r\n            dialogEvaluationsOperation: false,\r\n            message: {},\r\n        };\r\n    },\r\n    created() {\r\n        // 1. Retrieve current user information\r\n        this.getUserInfo();\r\n        // 2. Load all user messages\r\n        this.loadAllUsersMessage();\r\n        // 3. Load all message types\r\n        this.loadAllMessageType();\r\n    },\r\n    methods: {\r\n        commentDeal(content) {\r\n            return content.split(';');\r\n        },\r\n        // Reply to user\r\n        replyUser(message) {\r\n            Swal.fire({\r\n                title: `Reply to 【${message.senderName}】`,\r\n                input: 'text',\r\n                inputPlaceholder: 'Enter your reply',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Submit',\r\n                cancelButtonText: 'Cancel',\r\n                inputValidator: (value) => {\r\n                    if (!value) {\r\n                        return 'Content cannot be empty';\r\n                    } else {\r\n                        this.saveCommentData(message.senderId, value, this.commentDeal(message.content));\r\n                    }\r\n                }\r\n            }).then((result) => {\r\n                console.log(\"...\");\r\n            });\r\n        },\r\n        // Save reply data\r\n        saveCommentData(senderId, content, ary) {\r\n            const comment = {\r\n                content,\r\n                parentId: ary[0],\r\n                contentType: 'NEWS',\r\n                contentId: ary[1],\r\n                replierId: senderId\r\n            }\r\n            this.$axios.post('/evaluations/insert', comment).then(response => {\r\n                const { data } = response;\r\n                if (data.code === 200) {\r\n                    this.$notify({\r\n                        title: 'Comment Reply',\r\n                        message: 'Reply successful',\r\n                        type: 'success'\r\n                    });\r\n                }\r\n            }).catch(error => {\r\n                console.log(\"Reply error:\", error);\r\n            })\r\n        },\r\n        // Mark all messages as read\r\n        async clearMessage() {\r\n            const confirmed = await this.$swalConfirm({\r\n                title: 'Clear Messages',\r\n                text: `Do you want to mark all messages as read?`,\r\n                icon: 'warning',\r\n            });\r\n            if (confirmed) {\r\n                this.$axios.put('/message/clearMessage').then(response => {\r\n                    const { data } = response;\r\n                    if (data.code === 200) {\r\n                        this.loadAllUsersMessage();\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        evaluationsPut() {\r\n            this.$axios.put('/message/clearMessage').then(response => {\r\n                const { data } = response;\r\n                if (data.code === 200) {\r\n                    this.loadAllUsersMessage();\r\n                }\r\n            })\r\n        },\r\n        // Handle reply\r\n        replyEvalustions(message) {\r\n            this.message = message;\r\n            this.dialogEvaluationsOperation = true;\r\n        },\r\n        // Select message type\r\n        messageTypeSelected(messageType) {\r\n            this.messageQueryDto.messageType = messageType;\r\n            // If the message is a comment, additional processing is required\r\n            this.loadAllUsersMessage();\r\n        },\r\n        getUserInfo() {\r\n            const userInfo = sessionStorage.getItem('userInfo');\r\n            this.userInfo = JSON.parse(userInfo);\r\n        },\r\n        // Load all message types\r\n        loadAllMessageType() {\r\n            this.$axios.get('/message/types').then(response => {\r\n                const { data } = response;\r\n                if (data.code === 200) {\r\n                    this.messageTypes = data.data;\r\n                    const messageType = { type: null, detail: 'All Messages' };\r\n                    this.messageTypes.unshift(messageType);\r\n                    this.messageTypes.map(entity => entity.isCheck = false);\r\n                }\r\n            })\r\n        },\r\n        loadAllUsersMessage() {\r\n            const userInfo = sessionStorage.getItem('userInfo');\r\n            const entity = JSON.parse(userInfo);\r\n            this.messageQueryDto.userId = entity.id;\r\n            this.$axios.post('/message/query', this.messageQueryDto).then(response => {\r\n                const { data } = response;\r\n                if (data.code === 200) {\r\n                    this.messageList = data.data;\r\n                }\r\n            })\r\n        },\r\n    },\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.bell-icon {\r\n    display: inline-block;\r\n    height: 30px;\r\n    width: 30px;\r\n    border-radius: 20px;\r\n    background-color: rgb(82, 152, 237);\r\n    border: 3px solid rgb(212, 227, 230);\r\n\r\n    i {\r\n        line-height: 30px;\r\n        width: 30px;\r\n        text-align: center;\r\n        font-size: 25px;\r\n        color: #f1f1f1;\r\n    }\r\n}\r\n\r\n.message-time {\r\n    font-size: 12px;\r\n    color: rgb(131, 104, 102);\r\n}\r\n\r\n.clear-message {\r\n    display: inline-block;\r\n    margin-left: 10px;\r\n    padding: 6px 12px;\r\n    border-radius: 5px;\r\n}\r\n\r\n.clear-message:hover {\r\n    background-color: #f1f1f1;\r\n}\r\n\r\n.news-tags {\r\n    display: inline-block;\r\n    padding: 2px 5px;\r\n    background-color: rgb(222, 243, 251);\r\n    color: #1d3cc4;\r\n    font-size: 14px;\r\n    border-radius: 3px;\r\n}\r\n\r\n.message-type {\r\n    display: inline-block;\r\n    font-size: 18px;\r\n    margin-right: 25px;\r\n    cursor: pointer;\r\n}\r\n\r\n.message-content {\r\n    display: inline-block;\r\n    margin: 5px 0;\r\n    font-size: 22px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Message.vue?vue&type=template&id=cb3631fe&scoped=true\"\nimport script from \"./Message.vue?vue&type=script&lang=js\"\nexport * from \"./Message.vue?vue&type=script&lang=js\"\nimport style0 from \"./Message.vue?vue&type=style&index=0&id=cb3631fe&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cb3631fe\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}