(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0baace"],{"37e9":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("el-row",{staticStyle:{"background-color":"#FFFFFF",padding:"5px 0","border-radius":"5px"}},[e("el-row",{staticStyle:{padding:"10px","margin-left":"5px"}},[e("el-row",[e("el-input",{staticStyle:{width:"188px","margin-left":"5px","margin-right":"6px"},attrs:{size:"small",placeholder:"Configuration name",clearable:""},on:{clear:t.handleFilterClear},model:{value:t.healthModelConfigQueryDto.name,callback:function(e){t.$set(t.healthModelConfigQueryDto,"name",e)},expression:"healthModelConfigQueryDto.name"}},[e("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.handleFilter},slot:"append"})],1),e("span",{staticStyle:{float:"right"}},[e("el-button",{staticClass:"customer",staticStyle:{"background-color":"rgb(96, 98, 102)",color:"rgb(247,248,249)",border:"none"},attrs:{size:"small",type:"info"},on:{click:function(e){return t.add()}}},[e("i",{staticClass:"el-icon-plus"}),t._v("New Models")])],1)],1)],1),e("el-row",{staticStyle:{margin:"0 20px","border-top":"1px solid rgb(245,245,245)"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{"row-key":"id",data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{prop:"cover",width:"80",label:"Diagram"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{staticStyle:{width:"30px",height:"30px","border-radius":"5px"},attrs:{src:t.row.cover}})]}}])}),e("el-table-column",{attrs:{prop:"name",width:"218",label:"Model Name"}}),e("el-table-column",{attrs:{prop:"isGlobal",label:"Limits",width:"128"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.isGlobal?"Global Model":"Private Model"))])]}}])}),e("el-table-column",{attrs:{prop:"userName",width:"108",label:"Configure Users"}}),e("el-table-column",{attrs:{prop:"valueRange",width:"128",label:"value range"}}),e("el-table-column",{attrs:{prop:"unit",width:"88",label:"unit"}}),e("el-table-column",{attrs:{prop:"symbol",width:"88",label:"symbol"}}),e("el-table-column",{attrs:{prop:"detail",label:"Model Introduction"}}),e("el-table-column",{attrs:{label:"Manipulate",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"text-button",on:{click:function(e){return t.handleEdit(a.row)}}},[t._v("Edit")]),e("span",{staticClass:"text-button",on:{click:function(e){return t.handleDelete(a.row)}}},[t._v("Delete")])]}}])})],1),e("el-pagination",{staticStyle:{margin:"20px 0"},attrs:{"current-page":t.currentPage,"page-sizes":[10,20],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalItems},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),e("el-dialog",{attrs:{"show-close":!1,visible:t.dialogUserOperaion,width:"26%"},on:{"update:visible":function(e){t.dialogUserOperaion=e}}},[e("div",{attrs:{slot:"title"},slot:"title"},[e("p",{staticClass:"dialog-title"},[t._v(t._s(t.isOperation?"Health Model Modifications":"Health model added"))])]),e("div",{staticStyle:{padding:"0 20px"}},[e("p",[t._v("*Icon")]),e("el-row",{staticStyle:{"margin-top":"10px"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/personal-heath/v1.0/file/upload","show-file-list":!1,"on-success":t.handleAvatarSuccess}},[t.data.cover?e("img",{staticStyle:{height:"64px",width:"64px"},attrs:{src:t.data.cover}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e("el-row",{staticStyle:{padding:"0 10px 0 0"}},[e("p",[e("span",{staticClass:"modelName"},[t._v("*Configuration Name")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.name,expression:"data.name"}],staticClass:"input-title",attrs:{placeholder:"Please enter"},domProps:{value:t.data.name},on:{input:function(e){e.target.composing||t.$set(t.data,"name",e.target.value)}}})]),e("el-row",{staticStyle:{padding:"0 10px 0 0"}},[e("p",{staticStyle:{"font-size":"12px",padding:"3px 0"}},[e("span",{staticClass:"modelName"},[t._v("*Unit")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.unit,expression:"data.unit"}],staticClass:"input-title",attrs:{placeholder:"Please enter"},domProps:{value:t.data.unit},on:{input:function(e){e.target.composing||t.$set(t.data,"unit",e.target.value)}}})]),e("el-row",{staticStyle:{padding:"0 10px 0 0"}},[e("p",{staticStyle:{"font-size":"12px",padding:"3px 0"}},[e("span",{staticClass:"modelName"},[t._v("*Symbol")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.symbol,expression:"data.symbol"}],staticClass:"input-title",attrs:{placeholder:"Please enter"},domProps:{value:t.data.symbol},on:{input:function(e){e.target.composing||t.$set(t.data,"symbol",e.target.value)}}})]),e("el-row",{staticStyle:{padding:"0 20px 0 0"}},[e("p",{staticStyle:{"font-size":"12px",padding:"3px 0"}},[e("span",{staticClass:"modelName"},[t._v("*Thresholds (format: min,max)")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.valueRange,expression:"data.valueRange"}],staticClass:"input-title",attrs:{placeholder:"Please enter"},domProps:{value:t.data.valueRange},on:{input:function(e){e.target.composing||t.$set(t.data,"valueRange",e.target.value)}}})]),e("el-row",{staticStyle:{padding:"0 10px 0 0"}},[e("p",{staticStyle:{"font-size":"12px",padding:"3px 0"}},[e("span",{staticClass:"modelName"},[t._v("*Brief Introduction")])]),e("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:3},placeholder:"Brief Introduction"},model:{value:t.data.detail,callback:function(e){t.$set(t.data,"detail",e)},expression:"data.detail"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.isOperation?e("el-button",{staticClass:"customer",staticStyle:{"background-color":"rgb(43, 121, 203)",border:"none"},attrs:{size:"small",type:"info"},on:{click:t.updateOperation}},[t._v("revise")]):e("el-button",{staticClass:"customer",staticStyle:{"background-color":"rgb(43, 121, 203)",border:"none"},attrs:{size:"small",type:"info"},on:{click:t.addOperation}},[t._v("additional")]),e("el-button",{staticClass:"customer",staticStyle:{"background-color":"rgb(241, 241, 241)",border:"none"},attrs:{size:"small"},on:{click:function(e){return t.cannel()}}},[t._v("cancel")])],1)])],1)},i=[],l={data(){return{data:{cover:""},filterText:"",currentPage:1,pageSize:10,totalItems:0,dialogUserOperaion:!1,isOperation:!1,tableData:[],searchTime:[],selectedRows:[],status:null,healthModelConfigQueryDto:{},messsageContent:"",tagsList:[],valuesRange:[10,50]}},created(){this.fetchFreshData()},methods:{handleAvatarSuccess(t,e){this.$notify({duration:2e3,title:"Icon Upload",message:200===t.code?"Success":"Error",type:200===t.code?"success":"error"}),this.data.cover=t.data},handleSelectionChange(t){this.selectedRows=t},async batchDelete(){if(!this.selectedRows.length)return void this.$message("No data selected");const t=await this.$swalConfirm({title:"Deleting Health Model Data",text:"Deleted unrecoverable, do you continue?",icon:"warning"});if(t)try{let t=this.selectedRows.map(t=>t.id);const e=await this.$axios.post("/health-model-config/batchDelete",t);if(200===e.data.code)return this.$notify({duration:2e3,title:"Delete operation",message:"Success",type:"success"}),void this.fetchFreshData()}catch(e){console.error("Health Model Information Deletion Exceptionï¼š",e)}},resetQueryCondition(){this.healthModelConfigQueryDto={},this.searchTime=[],this.fetchFreshData()},async updateOperation(){this.$axios.put("/health-model-config/update",this.data).then(t=>{200===t.data.code&&(this.cannel(),this.fetchFreshData(),this.$notify({duration:2e3,title:"Revise Operation",message:"Success",type:"success"}))}).catch(t=>{console.log("Model Modification Exception=>",t)})},cannel(){this.dialogUserOperaion=!1,this.isOperation=!1,this.data={},this.valueRange=null},addOperation(){this.$axios.post("/health-model-config/config/save",this.data).then(t=>{200===t.data.code&&(this.cannel(),this.fetchFreshData(),this.$notify({duration:2e3,title:"New operations",message:"Success",type:"success"}))}).catch(t=>{console.log("Model Addition Exception=>",t)})},async fetchFreshData(){try{this.tableData=[];let t=null,e=null;if(null!=this.searchTime&&2===this.searchTime.length){const[a,s]=await Promise.all(this.searchTime.map(t=>t.toISOString()));t=a.split("T")[0]+"T00:00:00",e=s.split("T")[0]+"T23:59:59"}const a={current:this.currentPage,size:this.pageSize,startTime:t,endTime:e,...this.healthModelConfigQueryDto},s=await this.$axios.post("/health-model-config/query",a),{data:i}=s;this.tableData=i.data,this.totalItems=i.total}catch(t){console.error("Query Health Model Information Exception:",t)}},add(){this.dialogUserOperaion=!0},handleFilter(){this.currentPage=1,this.fetchFreshData()},handleFilterClear(){this.filterText="",this.handleFilter()},handleSizeChange(t){this.pageSize=t,this.currentPage=1,this.fetchFreshData()},handleCurrentChange(t){this.currentPage=t,this.fetchFreshData()},handleEdit(t){this.dialogUserOperaion=!0,this.isOperation=!0,this.data={...t}},handleDelete(t){this.selectedRows.push(t),this.batchDelete()}}},o=l,n=a("2877"),r=Object(n["a"])(o,s,i,!1,null,"6f80028a",null);e["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2d0baace.8d0f9f8c.js.map