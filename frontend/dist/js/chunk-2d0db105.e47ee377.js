(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0db105"],{"6def":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("el-row",{staticStyle:{"background-color":"#FFFFFF",padding:"5px 0","border-radius":"5px"}},[e("el-row",{staticStyle:{padding:"10px","margin-left":"5px"}},[e("el-row",[e("el-input",{staticStyle:{width:"188px","margin-left":"5px","margin-right":"6px"},attrs:{size:"small",placeholder:"Tag Name",clearable:""},on:{clear:t.handleFilterClear},model:{value:t.tagsQueryDto.name,callback:function(e){t.$set(t.tagsQueryDto,"name",e)},expression:"tagsQueryDto.name"}},[e("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.handleFilter},slot:"append"})],1),e("span",{staticStyle:{float:"right"}},[e("el-button",{staticClass:"customer",staticStyle:{"background-color":"rgb(96, 98, 102)",color:"rgb(247,248,249)",border:"none"},attrs:{size:"small",type:"info"},on:{click:function(e){return t.add()}}},[e("i",{staticClass:"el-icon-plus"}),t._v("Add Tag")])],1)],1)],1),e("el-row",{staticStyle:{margin:"0 20px","border-top":"1px solid rgb(245,245,245)"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{"row-key":"id",data:t.tableData}},[e("el-table-column",{attrs:{prop:"name",label:"Tag Name"}}),e("el-table-column",{attrs:{label:"Actions",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"text-button",on:{click:function(e){return t.handleEdit(a.row)}}},[t._v("Edit")]),e("span",{staticClass:"text-button",on:{click:function(e){return t.handleDelete(a.row)}}},[t._v("Delete")])]}}])})],1),e("el-pagination",{staticStyle:{margin:"20px 0"},attrs:{"current-page":t.currentPage,"page-sizes":[10,20],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalItems},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),e("el-dialog",{attrs:{"show-close":!1,visible:t.dialogOperaion,width:"24%"},on:{"update:visible":function(e){t.dialogOperaion=e}}},[e("div",{attrs:{slot:"title"},slot:"title"},[e("p",{staticClass:"dialog-title"},[t._v(t._s(t.isOperation?"Edit Tag":"Add Tag"))])]),e("div",{staticStyle:{padding:"0 20px","margin-bottom":"30px"}},[e("el-row",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.name,expression:"data.name"}],staticClass:"dialog-input",staticStyle:{"font-size":"34px"},attrs:{placeholder:"Tag Name"},domProps:{value:t.data.name},on:{input:function(e){e.target.composing||t.$set(t.data,"name",e.target.value)}}})])],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.isOperation?e("el-button",{staticClass:"customer",staticStyle:{"background-color":"rgb(96, 98, 102)",color:"rgb(247,248,249)",border:"none"},attrs:{size:"small",type:"info"},on:{click:function(e){return t.updateOperation()}}},[t._v("Update")]):e("el-button",{staticClass:"customer",staticStyle:{"background-color":"rgb(96, 98, 102)",color:"rgb(247,248,249)",border:"none"},attrs:{size:"small",type:"info"},on:{click:function(e){return t.addOperation()}}},[t._v("Add")]),e("el-button",{staticClass:"customer",staticStyle:{"background-color":"rgb(241, 241, 241)",border:"none"},attrs:{size:"small"},on:{click:t.cancel}},[t._v("Cancel")])],1)])],1)},i=[],r={data(){return{userPwd:"",data:{},filterText:"",currentPage:1,pageSize:10,totalItems:0,dialogOperaion:!1,isOperation:!1,tableData:[],searchTime:[],selectedRows:[],status:null,tagsQueryDto:{}}},created(){this.fetchFreshData()},methods:{cancel(){this.data={},this.dialogOperaion=!1,this.isOperation=!1},handleAvatarSuccess(t,e){200===t.code?(this.$message.success("Tag avatar uploaded successfully"),this.data.userAvatar=t.data,console.log(this.data)):this.$message.error("Tag avatar upload failed")},handleSelectionChange(t){this.selectedRows=t},async batchDelete(){if(!this.selectedRows.length)return void this.$message("No data selected");const t=await this.$swalConfirm({title:"Delete Tag Data",text:"Deletion is irreversible, do you want to continue?",icon:"warning"});if(t)try{let t=this.selectedRows.map(t=>t.id);const e=await this.$axios.post("/tags/batchDelete",t);if(200===e.data.code)return this.$swal.fire({title:"Delete Notification",text:e.data.msg,icon:"success",showConfirmButton:!1,timer:2e3}),this.cancel(),void this.fetchFreshData()}catch(e){console.error("Tag deletion error:",e)}},resetQueryCondition(){this.tagsQueryDto={},this.searchTime=[],this.fetchFreshData()},async updateOperation(){try{const t=await this.$axios.put("/tags/update",this.data);this.$swal.fire({title:"Tag Update",text:t.data.msg,icon:200===t.data.code?"success":"error",showConfirmButton:!1,timer:1e3}),200===t.data.code&&(this.cancel(),this.fetchFreshData())}catch(t){console.error("Error submitting form:",t),this.$message.error("Submission failed, please try again later!")}},async addOperation(){try{const t=await this.$axios.post("/tags/save",this.data);this.$message[200===t.data.code?"success":"error"](t.data.msg),200===t.data.code&&(this.cancel(),this.fetchFreshData())}catch(t){console.error("Error submitting form:",t),this.$message.error("Submission failed, please try again later!")}},async fetchFreshData(){try{const t={current:this.currentPage,size:this.pageSize,...this.tagsQueryDto},e=await this.$axios.post("/tags/query",t),{data:a}=e;this.tableData=a.data,this.totalItems=a.total}catch(t){console.error("Error fetching tag data:",t)}},add(){this.dialogOperaion=!0},handleFilter(){this.currentPage=1,this.fetchFreshData()},handleFilterClear(){this.filterText="",this.handleFilter()},handleSizeChange(t){this.pageSize=t,this.currentPage=1,this.fetchFreshData()},handleCurrentChange(t){this.currentPage=t,this.fetchFreshData()},handleEdit(t){this.dialogOperaion=!0,this.isOperation=!0,this.data={...t}},handleDelete(t){this.selectedRows.push(t),this.batchDelete()}}},o=r,l=a("2877"),n=Object(l["a"])(o,s,i,!1,null,"ebc5c430",null);e["default"]=n.exports}}]);
//# sourceMappingURL=chunk-2d0db105.e47ee377.js.map